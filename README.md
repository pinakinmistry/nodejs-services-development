# NodeJS Services Development

## Express

- Even though the req and res objects are generated by the http module and have all of the same functionality, Express decorates the req and res objects with additional functionality. By conflating Node core APIs with Express APIs on the same objects the principles of least surprise and separation of concerns are violated, while also causing performance issues.

## Fastify

## Lab 3.1

## Lab 3.2

## Serving web content

- Static assets (content that does not change very often) should not be served by Node. Static content should be delivered via a CDN and/or a caching reverse proxy that specializes in static content such as NGINX or Varnish

- Node.js could serve static content for applications with very small user bases that have a very low growth potential

- Where Node.js shines however, is dynamic content. Using Node.js as a mediator for gathering data from multiple sources and rendering some output is perfect for such an evented language and non-blocking I/O platform

## Using templates with Fastify and HandlebarJS

- Using three braces to denote an interpolation point is Handlebars syntax that instructs the template engine to conduct raw interpolation.

- In other words, if the body template local contains HTML syntax the content will not be escaped whereas using two braces would cause HTML syntax to be escaped (for instance < would be escaped to &â€Œlt;). This should never be used when interpolating (uncleaned) user input into templates but when building a layout we need to inject raw HTML.

- The body local is created automatically by point-of-view when rendering a view because we specified the layout option.
